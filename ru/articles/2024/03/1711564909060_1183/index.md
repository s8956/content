---
# -------------------------------------------------------------------------------------------------------------------- #
# General settings.
# -------------------------------------------------------------------------------------------------------------------- #

title: 'Обновление Cisco IOS'
description: ''
images:
  - 'https://images.unsplash.com/photo-1606765962248-7ff407b51667'
categories:
  - 'network'
  - 'inDev'
  - 'terminal'
tags:
  - 'cisco'
  - 'ios'
  - 'upgrade'
  - 'firmware'
authors:
  - 'KaiKimera'
sources:
  - ''
license: 'CC-BY-SA-4.0'
complexity: '0'
toc: 1
comments: 1

# -------------------------------------------------------------------------------------------------------------------- #
# Date settings.
# -------------------------------------------------------------------------------------------------------------------- #

date: '2024-03-27T21:41:49+03:00'
publishDate: '2024-03-27T21:41:49+03:00'
expiryDate: ''
lastMod: '2024-03-27T21:41:49+03:00'

# -------------------------------------------------------------------------------------------------------------------- #
# Meta settings.
# -------------------------------------------------------------------------------------------------------------------- #

type: 'articles'
hash: 'b81f9ccad7239b72929ab88be9d329f969cbf397'
uuid: 'b81f9cca-d723-5b72-929a-b88be9d329f9'
slug: 'b81f9cca-d723-5b72-929a-b88be9d329f9'

draft: 0
---

Инструкция по резервному копированию и обновлению {{< tag "Cisco" >}} {{< tag "IOS" >}}.

<!--more-->

## Общая настройка

- Настроить сетевой интерфейс компьютера со следующими параметрами:
  - IP-адрес: `192.168.1.2`.
  - Маска подсети: `255.255.255.0`.
  - Шлюз: `192.168.1.1`.
  - DNS: `8.8.8.8`.
- Настроить сетевой интерфейс {{< tag "Cisco" >}} со следующими параметрами:

```
> en
# conf t
(config)# int fa0/1
(config-if)# ip address 192.168.1.1 255.255.255.0
(config-if)# no shutdown
(config-if)# exit
(config)# exit
#
```

- Подключить сетевой интерфейс компьютера к сетевому интерфейсу {{< tag "Cisco" >}} `FE0/1`.
- Запустить TFTP-сервер на компьютере c IP `192.168.1.2`.

## Резервное копирование текущего образа IOS

- Посмотреть текущую версию {{< tag "IOS" >}}:

```
# show version
```

- Сделать резервную копию текущего образа {{< tag "IOS" >}} на TFTP:

```
# show flash: | include .bin
# copy flash:IOS_FW.bin tftp://192.168.1.2
```

Где:

- `flash:IOS_FW.bin` - источник, файл текущего образа {{< tag "IOS" >}} на flash-карте (`IOS_FW.bin`).
- `tftp://192.168.1.2` - назначение, IP-адрес TFTP-сервера.

## Загрузка нового образа IOS

- Записать на Flash-карту новый образ {{< tag "IOS" >}}:

```
# copy tftp://192.168.1.2/IOS_FW.bin flash:
```

Где:

 - `tftp://192.168.1.2/IOS_FW.bin` - источник, адрес TFTP-сервера и путь к файлу с образом {{< tag "IOS" >}} (`IOS_FW.bin`).
 - `flash:` - назначение, flash-карта.

## Верификация нового образа IOS

```
# show flash: | include .bin
# verify /md5 flash:IOS_FW.bin
```

Где:

- `flash:IOS_FW.bin` - образ {{< tag "IOS" >}} (`IOS_FW.bin`) на flash-карте.

## Обновление IOS

- Прописать в конфигурации {{< tag "Cisco" >}} загрузку нового образа {{< tag "IOS" >}}:

```
# conf t
(config)# boot system flash:IOS_FW.bin
(config)# exit
# reload
```

Где:

- `flash:IOS_FW.bin` - образ {{< tag "IOS" >}} (`IOS_FW.bin`) на flash-карте.

## Проверка новой версии IOS

- Посмотреть версию {{< tag "IOS" >}} после перезагрузки:

```
# show version
```

- Готово!
