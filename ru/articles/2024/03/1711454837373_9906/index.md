---
# -------------------------------------------------------------------------------------------------------------------- #
# General settings.
# -------------------------------------------------------------------------------------------------------------------- #

title: 'Cisco: Сброс пароля'
description: ''
images:
  - 'https://images.unsplash.com/photo-1528845922818-cc5462be9a63'
categories:
  - 'network'
  - 'terminal'
tags:
  - 'cisco'
  - 'password'
  - 'reset'
authors:
  - 'KaiKimera'
sources:
  - ''
license: 'CC-BY-SA-4.0'
complexity: '0'
toc: 1
comments: 1

# -------------------------------------------------------------------------------------------------------------------- #
# Date settings.
# -------------------------------------------------------------------------------------------------------------------- #

date: '2024-03-26T15:07:17+03:00'
publishDate: '2024-03-26T15:07:17+03:00'
expiryDate: ''
lastMod: '2024-03-26T15:07:17+03:00'

# -------------------------------------------------------------------------------------------------------------------- #
# Meta settings.
# -------------------------------------------------------------------------------------------------------------------- #

type: 'articles'
hash: 'fc67eb748f7c3de36d1e2d823208eae243424bbe'
uuid: 'fc67eb74-8f7c-5de3-bd1e-2d823208eae2'
slug: 'fc67eb74-8f7c-5de3-bd1e-2d823208eae2'

draft: 0
---

Инструкция по сбросу пароля администратора в готовой конфигурации на устройствах {{< tag "Cisco" >}}.

<!--more-->

1. Подключиться к COM-порту {{< tag "Cisco" >}}.
2. Загрузиться в **ROMMON** (при старте {{< tag "Cisco" >}} нажать клавишу {{< key "Break" >}}).

Далее, необходимо переключить регистр с `0x2102` на `0x2142` и перезагрузить оборудование:

```cisco-cli
rommon> confreg 0x2142
rommon> reset
```

После перезагрузки оборудования, можно сбросить пароль. Переходим  режим конфигурирования:

```cisco-cli
> en
```

Импортируем стартовую конфигурацию в текущую:

```cisco-cli
# copy startup-config running-config
```

Отлично. Сейчас мы находимся в режиме полного контроля и в конфигурации, к которой ранее не было доступа. Теперь сбрасываем пароль у необходимого пользователя:

```cisco-cli
# config t
(config)# en secret PassWord
(config)# username USER privilege 15 secret PassWord
```

Далее, нужно не забыть переключить регистр обратно, с `0x2142` на `0x2102`:

```cisco-cli
(config)# config-register 0x2102
(config)# exit
```

Теперь экспортируем текущую конфигурацию обратно в стартовую:

```cisco-cli
# copy running-config startup-config
# reload
```

Таким образом мы "обманули" Cisco. Мы загрузились в чистую конфигурацию под администратором и импортировали в неё стартовую конфигурацию, к которой у нас не было доступа. Поменяли пароль и экспортировали текущую конфигурацию обратно в стартовую.

Готово!
