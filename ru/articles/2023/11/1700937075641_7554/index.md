---
# -------------------------------------------------------------------------------------------------------------------- #
# General settings.
# -------------------------------------------------------------------------------------------------------------------- #

title: 'Переход Debian между релизами'
description: ''
images:
  - 'https://images.unsplash.com/photo-1640552435388-a54879e72b28'
categories:
  - 'linux'
  - 'terminal'
tags:
  - 'debian'
  - 'bash'
  - 'sed'
authors:
  - 'z17cx'
sources:
  - ''
license: 'CC-BY-SA-4.0'
complexity: '0'
toc: 1
comments: 1

# -------------------------------------------------------------------------------------------------------------------- #
# Date settings.
# -------------------------------------------------------------------------------------------------------------------- #

date: '2023-11-25T21:31:16+03:00'
publishDate: '2023-11-25T21:31:16+03:00'
expiryDate: ''
lastMod: '2023-11-25T21:31:16+03:00'

# -------------------------------------------------------------------------------------------------------------------- #
# Meta settings.
# -------------------------------------------------------------------------------------------------------------------- #

type: 'articles'
hash: '4dfa15a844f0d590204df940dac12aad26c68801'
uuid: '4dfa15a8-44f0-5590-a04d-f940dac12aad'
slug: '4dfa15a8-44f0-5590-a04d-f940dac12aad'

draft: 0
---

Debian позволяет выполнять обновление системы между релизами, и для успешного выполнения этого процесса, необходимо выполнять команды строго в определённом порядке.

<!--more-->

## Обновление пакетов в текущей системе

Перед переходом на новый релиз, необходимо обновить все пакеты на текущей системе. Для этого выполняем последовательно ниже приведённые команды.

1. Обновление базы пакетов:

```terminal {os="linux",mode="root"}
apt update
```

2. Обновление пакетов:

```terminal {os="linux",mode="root"}
apt upgrade
```

3. Обновление системы:

```terminal {os="linux",mode="root"}
apt full-upgrade
```

4. Удаление не используемых пакетов:

```terminal {os="linux",mode="root"}
apt --purge autoremove
```

## Обновление файла `sources.list`

После завершения полного обновления пакетов, нужно перезаписать пути к репозиториям, указав имя нового релиза:

```terminal {os="linux",mode="root"}
sed -i 's/NAME_OLD/NAME_NEW/g' /etc/apt/sources.list
```

Где:

- `NAME_OLD` - старое имя релиза.
- `NAME_NEW` - новое имя релиза.

## Обновление системны на новую версию

Теперь пришло время перейти на новый релиз. Выполняем шаги последовательно.

1. Обновление базы пакетов:

```terminal {os="linux",mode="root"}
apt update
```

2. Обновление пакетов в минимальном варианте:

```terminal {os="linux",mode="root"}
apt upgrade --without-new-pkgs
```

На запрос "Restart services during package upgrades without asking?" отвечаем {{< btn "Yes" >}}.

3. Обновление всей системы:

```terminal {os="linux",mode="root"}
apt full-upgrade
```

4. Проверка обновлённого релиза:

```terminal {os="linux",mode="root"}
cat /etc/debian_version
```
