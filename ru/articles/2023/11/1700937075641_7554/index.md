---
# -------------------------------------------------------------------------------------------------------------------- #
# GENERAL
# -------------------------------------------------------------------------------------------------------------------- #

title: 'Переход Debian между релизами'
description: ''
images:
  - 'https://images.unsplash.com/photo-1640552435388-a54879e72b28'
categories:
  - 'linux'
  - 'terminal'
tags:
  - 'debian'
  - 'bash'
  - 'sed'
authors:
  - 'KaiKimera'
sources:
  - ''
license: 'CC-BY-SA-4.0'
complexity: '0'
toc: 1
comments: 1

# -------------------------------------------------------------------------------------------------------------------- #
# DATE
# -------------------------------------------------------------------------------------------------------------------- #

date: '2023-11-25T21:31:16+03:00'
publishDate: '2023-11-25T21:31:16+03:00'
expiryDate: ''
lastMod: '2023-11-25T21:31:16+03:00'

# -------------------------------------------------------------------------------------------------------------------- #
# META
# -------------------------------------------------------------------------------------------------------------------- #

type: 'articles'
hash: '4dfa15a844f0d590204df940dac12aad26c68801'
uuid: '4dfa15a8-44f0-5590-a04d-f940dac12aad'
slug: '4dfa15a8-44f0-5590-a04d-f940dac12aad'

draft: 0
---

{{< tag "Debian" >}} позволяет выполнять обновление системы между релизами, и для успешного выполнения этого процесса, необходимо выполнять команды строго в определённом порядке.

<!--more-->

## Обновление пакетов в текущей системе

Перед переходом на новый релиз, необходимо обновить все пакеты на текущей системе. Для этого выполняем последовательно ниже приведённые команды.

1. Обновление базы пакетов, пакетов и системы в целом:

```bash
apt update && apt upgrade && apt full-upgrade
```

2. Удаление не используемых пакетов:

```bash
apt --purge autoremove
```

## Обновление файла `sources.list`

После завершения полного обновления пакетов, нужно перезаписать пути к репозиториям, указав имя нового релиза:

```bash
sed -i 's|RELEASE_OLD|RELEASE_NEW|g' '/etc/apt/sources.list'
```

Где:
- `RELEASE_OLD` - старое имя релиза.
- `RELEASE_NEW` - новое имя релиза.

## Обновление системны на новую версию

Теперь пришло время перейти на новый релиз. Выполняем шаги последовательно.

1. Обновление базы пакетов и обновление пакетов в минимальном варианте:

```bash
apt update && apt upgrade --without-new-pkgs
```

На запрос "Restart services during package upgrades without asking?" отвечаем {{< btn "Yes" >}}.

2. Обновление всей системы:

```bash
apt full-upgrade
```

3. Проверка обновлённого релиза:

```bash
cat /etc/debian_version
```
