---
# -------------------------------------------------------------------------------------------------------------------- #
# General settings.
# -------------------------------------------------------------------------------------------------------------------- #

title: 'Перезагрузка и выключение Linux'
description: ''
images:
  - 'https://images.unsplash.com/photo-1611780427130-996d9882dc41'
cover:
  crop: 'top'
categories:
  - 'terminal'
  - 'linux'
tags:
  - 'halt'
  - 'poweroff'
  - 'reboot'
  - 'shutdown'
authors:
  - 'KaiKimera'
license: 'CC-BY-SA-4.0'
complexity: '0'
toc: 1
comments: 1

# -------------------------------------------------------------------------------------------------------------------- #
# Date settings.
# -------------------------------------------------------------------------------------------------------------------- #

date: '2021-05-12T17:20:47+03:00'

# -------------------------------------------------------------------------------------------------------------------- #
# Meta settings.
# -------------------------------------------------------------------------------------------------------------------- #

type: 'articles'
hash: '86db7f3a17cea02bb21d337c3bba5d58e63281ff'
uuid: '86db7f3a-17ce-502b-b21d-337c3bba5d58'
slug: '86db7f3a-17ce-502b-b21d-337c3bba5d58'

draft: 0
---

Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я постараюсь привести информацию о командах, позволяющих удалённо завершить работу системы.

<!--more-->

## halt / poweroff / reboot

Старые команды по управлению питанием системы. Опции у этих команд одинаковые. Отдаются команды из под пользователя **root**. Команда `halt` приостанавливает все функции {{< tag "CPU" >}}, но сам ПК остаётся включённым. Команда `poweroff` отключает питание ПК, посылая сигнал по {{< tag "ACPI" >}}. Команда `reboot` даёт команду системе на перезагрузку.

{{< alert "tip" >}}
Команда `halt` в современных ОС полностью прекращает работу системы. На системах с **systemd** команда `halt` является устаревшей и представляет собой символьную ссылку на утилиту `systemctl`.
{{< /alert >}}

Предпочтительнее использовать команду `shutdown`, о которой я расскажу ниже.

### Синтаксис

```text
halt [OPTION]
poweroff [OPTION]
reboot [OPTION]
```

#### Некоторые опции

- `-f` - принудительное выполнение команды.
- `-p` - сообщает команде `halt` действовать как `poweroff`.
- `-w` - не выполнять никакие действия, только записать в журнал `/var/log/wtmp` сообщение о завершении работы.

## shutdown

За остановку работы ПК отвечает команда `shutdown`. Она поддерживает несколько опций, через которые задаётся определённое действие. К примеру:

- `-r` - перезагрузка.
- `-h` - выключение.
- `-c` - отмена запланированных действий на перезагрузку или выключение.

Для запланированной перезагрузки ПК через 1 минуту используется опция `-r`:

```terminal {os="linux", mode="root"}
shutdown -r
```

Команда `shutdown` поддерживает указание времени, когда ПК должен быть перезагружен или выключен. К примеру, перезагрузить через 5 минут:

```terminal {os="linux", mode="root"}
shutdown -r +5
```

Также можно указать конкретное время для перезагрузки. Например, перезагрузить ПК в 18:30:

```terminal {os="linux", mode="root"}
shutdown -r 18:30
```

Если перезагрузка или выключение уже запланированы, их можно отменить опцией `-c`:

```terminal {os="linux", mode="root"}
shutdown -c
```

Для немедленной перезагрузки ПК, вместо времени можно ввести `now`:

```terminal {os="linux", mode="root"}
shutdown -r now
```

Чтобы выключить ПК через 1 минуту, используется опция `-h`:

```terminal {os="linux", mode="root"}
shutdown -h
```

На этом всё, ничего сложного нет. {{< emoji ":smile:" >}}
